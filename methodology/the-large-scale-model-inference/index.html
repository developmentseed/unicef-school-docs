<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="description" content="AI-assisted school mapping" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

<title>Project Connect</title>

<!-- Twitter -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="" />
<meta name="twitter:title" content="Project Connect">
<meta name="twitter:description" content="AI-assisted school mapping" />
<meta name="twitter:image:src" content="http://devseed.com/unicef-school-docs/assets/graphics/meta/default-meta-image.png" />
<!--/ Twitter -->

<!-- OG -->
<meta property="og:site_name" content="Project Connect" />
<meta property="og:title" content="Project Connect" />
<meta property="og:url" content="" />
<meta property="og:type" content="website" />
<meta property="og:description" content="AI-assisted school mapping" />
<meta property="og:image" content="http://devseed.com/unicef-school-docs/assets/graphics/meta/default-meta-image.png" />
<!--/ OG -->

<link rel="icon" type="image/png" sizes="96x96" href="http://devseed.com/unicef-school-docs/assets/graphics/meta/favicon.png" />
<link rel="icon" type="image/png" sizes="192x192" href="http://devseed.com/unicef-school-docs/assets/graphics/meta/android-chrome.png" />
<link rel="apple-touch-icon" sizes="180x180" href="http://devseed.com/unicef-school-docs/assets/graphics/meta/apple-touch-icon.png" />


<link rel="author" type="text/plain" href="humans.txt" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i" />



<link rel="stylesheet" href="http://devseed.com/unicef-school-docs/assets/styles/main-e2f7d91a02.css">

  </head>
  <body>
    <!-- page -->
    <div class="page">

      <header class="page__header" role="banner">
        <div class="inner">
          <div class="page__headline">
            <a href="/" title="Visit homepage">
              <h1 class="page__title">Project Connect</h1>
              <p class="page__subtitle">AI-assisted school mapping</p>
            </a>
          </div>
          <div class="page__browser pb" data-hook="menu:wrapper">
            <h2 class="pb__title"><a href="#ppn__contents" title="Show/hide" class="pb__toggle" data-hook="menu:toggle"><span>Navigation & Colophon</span></a></h2>
            <div id="pb__contents" class="pb__contents">
              <div class="inner">
                <nav class="page__prime-nav ppn">
  
  

  
  <section class="ppn__section">
    <h3 class="ppn__section-title">Introduction</h3>
    




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/" title="Go to page" class="ppn__menu-item ">Executive Summary</a>
      





  </li>
  
</ul>


  </section>
  
  <section class="ppn__section">
    <h3 class="ppn__section-title">Methodology</h3>
    




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/methodology" title="Go to page" class="ppn__menu-item ">Methodology</a>
      




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/school-data-cleaning" title="Go to page" class="ppn__menu-item ">School data cleaning</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/training-dataset-creation" title="Go to page" class="ppn__menu-item ">Training dataset creation</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/sat-xception-and-the-school-classifier" title="Go to page" class="ppn__menu-item ">Sat-Xception and the school classifier</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/the-large-scale-model-inference" title="Go to page" class="ppn__menu-item ppn__menu-item--active">The large scale model inference</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/methodology/ml-prediction-validation" title="Go to page" class="ppn__menu-item ">ML prediction validation</a>
      





  </li>
  
</ul>


  </li>
  
</ul>


  </section>
  
  <section class="ppn__section">
    <h3 class="ppn__section-title">Results</h3>
    




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/results/results-and-discussion" title="Go to page" class="ppn__menu-item ">Results and Discussion</a>
      




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/results/overall-model-performance" title="Go to page" class="ppn__menu-item ">Overall model performance</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/results/ai-assisted-school-mapping-and-discussion" title="Go to page" class="ppn__menu-item ">AI assisted school mapping and discussion</a>
      





  </li>
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/results/future-work" title="Go to page" class="ppn__menu-item ">Future work</a>
      





  </li>
  
</ul>


  </li>
  
</ul>


  </section>
  
  <section class="ppn__section">
    <h3 class="ppn__section-title">Conclusion</h3>
    




<ul class="ppn__menu">
  
  <li>
      
      <a href="http://devseed.com/unicef-school-docs/conclusion/conclusion" title="Go to page" class="ppn__menu-item ">Conclusion</a>
      





  </li>
  
</ul>


  </section>
  
</nav>

              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="page__body" role="main">
        <div class="inner">

          
          <!-- attribution -->
          <address class="page__attribution pa">
            <div class="pa__label">
              <small>Developed for</small>
              <a href="https://www.unicef.org/innovation/school-mapping" title="Visit">
                <strong>UNICEF</strong>
              </a>
            </div>
            
            <div class="pa__logo">
              <a href="https://www.unicef.org/innovation/school-mapping" title="Visit">
                <img alt="UNICEF logo" src="http://devseed.com/unicef-school-docs/assets/graphics/content/Unicef_logo_blue.png" />
              </a>
            </div>
            
          </address>
          <!--/ attribution -->
          

          <!-- inpage -->
          <article class="inpage">
            <header class="inpage__header">
              <div class="inner">

                <div class="inpage__headline">
                  <p class="inpage__subtitle">Methodology</p>
                  <h1 class="inpage__title">The large scale model inference</h1>
                </div>

              </div>
            </header>

            <div class="inpage__body">
              <div class="inner">
                <div class="prose prose--responsive">
                  <p>We applied our model to 52 million zoom 18 tiles of DigitalGlobe Vivid Basemap, representing all of Colombia and eleven Eastern Caribbean nations: Anguilla, Antigua, Barbuda, British Virgin islands, Dominica, Grenada, The Grenadines, Montserrat, St Kitts and Nevis, St Lucia, St Vincent.</p>
<p>To run the inference at a country-wide scale on high-resolution imagery, we developed an open source library called <a href="https://github.com/developmentseed/chip-n-scale-queue-arranger"><code>chip-n-scale-queue-arranger</code></a>. It is composed of a configuration code for Amazon Web Services (AWS CloudFormation) as well as small scripts for automating the necessary tasks associated with the satellite imagery and machine learning predictions.</p>
<figure class="align-center">
<img src="http://devseed.com/unicef-school-docs/assets/graphics/content/methodology/diagram-ml-inference.png" alt="ML model inference" />
<figcaption> chip-n-scale-queue-arranger helps you run machine learning models over satellite imagery at scale. It is a collection of AWS CloudFormation templates deployed by kes, lambda functions, and utility scripts for monitoring and managing the project.</figcaption>
</figure>
<p>A high-level overview of the process looks like this:</p>
<ul>
<li>
<p>A user sends <code>x/y/z</code> tile indices to an AWS SQS queue in the form of <code>'{ &quot;x&quot;: 1, &quot;y&quot;: 2, &quot;z&quot;: 3}'</code>. These indicate which geographic region to run our model over.</p>
</li>
<li>
<p>Each SQS message triggers the Lambda function <code>DownloadAndPredict</code> which downloads images, posts to a prediction cluster (via a Load Balancer endpoint), and saves the result to an RDS database.</p>
</li>
<li>
<p>The prediction cluster on ECS runs the TensorFlow Serving image to predict each tile. All instances are behind an Application Load Balancer which will dynamically register new instances that appear on the cluster and allocate jobs to them evenly.</p>
</li>
<li>
<p>A user manually downloads predictions from RDS after the full inference process is complete.</p>
</li>
</ul>
<p>The prediction from RDS was converted to a shapefile so that our expert mappers can upload a map editor for validation. In the editor, the mappers can overlay the predicted school tiles only and focus their attention on confident predictions, avoiding the tedious task of reviewing the entire area for Colombia and the eastern Caribbean islands.</p>

                </div>
              </div>
            </div>

            <footer class="inpage__footer">
              <div class="inner">
                <nav class="inpage__actions">
                  <ul>
                    <li>
                      
                        <a href="http://devseed.com/unicef-school-docs/methodology/sat-xception-and-the-school-classifier" class="pa-prev" title="View previous post"><span>Prev</span></a>
                      
                    </li>
                    <li>
                      
                        <a href="http://devseed.com/unicef-school-docs/methodology/ml-prediction-validation" class="pa-next" title="View next post"><span>Next</span></a>
                      
                    </li>
                  </ul>
                </nav>
              </div>
            </footer>
          </article>
          <!--/ inpage -->

        </div>
      </main>

      <footer class="page__footer" role="contentinfo">
        <div class="inner">
          <p>
            <a href="https://developmentseed.org" title="Visit Development Seed website">
              <span><img src="http://devseed.com/unicef-school-docs/assets/graphics/layout/devseed-logo-symbol.svg" alt="Development Seed logo symbol" width="512" height="152" /></span>
              <strong>Development Seed</strong>
              <small>2019</small>
            </a>
          </p>
        </div>
      </footer>

    </div>
    <!--/ page -->

    <script src="http://devseed.com/unicef-school-docs/assets/scripts/vendor-2fa80a543b.js"></script>

<script src="http://devseed.com/unicef-school-docs/assets/scripts/bundle-7df0b6512d.js"></script>
  </body>
</html>
